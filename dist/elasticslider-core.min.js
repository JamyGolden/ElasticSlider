/**
 * ElasticSlider - An agnostic and responsive slider.
 * @version v0.4.2
 * @link 
 * @license MIT
 */
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),ElasticSlider=function(){function t(e,i){_classCallCheck(this,t),this.NAMESPACE="ElasticSlider",this.options=this._filterOptions(i),this.CLASS_NAME_LIST={container:this.NAMESPACE+"-container",item:this.NAMESPACE+"-item",itemActive:this.NAMESPACE+"-item--isActive",itemClone:this.NAMESPACE+"-item--clone"},this._properties=new Map,this._checkClassRequirements(e),this._animationFunctionHash={},this._slideCount=null,this._initialAnimationDelay=50,this._startAnimationUserCallback=function(){},this._endAnimationUserCallback=function(){},this._createAnimationFunctions(),this.elementList={},this.elementList.slider=e,this.elementList.containerEl=this.elementList.slider.querySelector("."+this.CLASS_NAME_LIST.container),this.elementList.slideArr=this.elementList.containerEl.children,this.elementList.slideActiveEl=this.elementList.slideArr[this.options.activeSlide-1],this.elementList.cloneEl=null,this._slideCount=this.elementList.slideArr.length,this.setProp("activeSlideIndex",this.options.activeSlide-1),this.setProp("nextActiveSlideIndex",this.options.activeSlide),this.setProp("isAnimating",!1),this.elementList.slider.classList.add(this.NAMESPACE);for(var n=0;n<this.elementList.slideArr.length;n++){var s=this.elementList.slideArr[n];s.classList.add(this.CLASS_NAME_LIST.item)}this._setActiveSlide(this.getProp("activeSlideIndex")),this._addCustomAnimationFunctions()}return _createClass(t,[{key:"destroy",value:function(){for(var t in this.CLASS_NAME_LIST){var e=document.querySelector("."+this.CLASS_NAME_LIST[t]);e&&e.classList.remove(""+this.CLASS_NAME_LIST[t])}this.elementList.slider.classList.remove(this.NAMESPACE)}},{key:"toSlide",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t,i=e.index,n=e.animation,s=e.startAnimationCallback,a=e.endAnimationCallback;this._typeTest("number",t)?(t={index:t},i=t.index):this._typeTest("object",t)||console.error("ElasticSlider.toSlide: params is expected to be an object. Eg. {index: 5}"),this._typeTest("string",n)||(n=this.options.animation),i!==this.getProp("activeSlideIndex")&&this.getProp("isAnimating")!==!0&&(!this._typeTest("number",i)||i>this._slideCount-1?i=0:0>i&&(i=this._slideCount-1),this._createTransitionEl(i),this.setProp("nextActiveSlideIndex",i),this.setProp("isAnimating",!0),this._typeTest("function",s)&&(this._startAnimationUserCallback=s),this._typeTest("function",a)&&(this._endAnimationUserCallback=a),this._typeTest("string",n)?(this._startAnimationUserCallback(),this._animationFunctionHash[n](this,i+1)):this._endSlide(i))}},{key:"animationInit",value:function(t){this._typeTest("function",t)&&(t=t.bind(this))()}},{key:"animationStart",value:function(t){var e=this,i=this;window.setTimeout(function(){e._typeTest("function",t)&&(t=t.bind(i))()},this._initialAnimationDelay)}},{key:"animationEnd",value:function(t,e){var i=this;void 0===t&&(t=100);var n=this,s=t+this._initialAnimationDelay;window.setTimeout(function(){i._typeTest("function",e)&&(e=e.bind(n))(),n._endSlide()},s)}},{key:"addAnimationFunction",value:function(t,e){this._typeTest("string",t)&&this._typeTest("function",e)?this._animationFunctionHash[t]=e.bind(this):console.error("ElasticSlider.addAnimationFunction: Parameters must be name<String>, func<Function>")}},{key:"getElement",value:function(t){return this.elementList[t]}},{key:"getProp",value:function(t){return this._properties.get(t)}},{key:"setProp",value:function(t,e){this._properties.set(t,e)}},{key:"removeProp",value:function(t,e){this._properties["delete"](t)}},{key:"_filterOptions",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return this._typeTest("number",t.activeSlide)||(t.activeSlide=1),this._typeTest("string",t.animation)||(t.animation="slide"),t}},{key:"_checkClassRequirements",value:function(t){var e=[this.CLASS_NAME_LIST.container];e.forEach(function(e){var i=t.querySelector("."+e);if(!i)throw"Required element ."+e+" missing. Please use an ElasticSlider UI plugin or read the documentation."})}},{key:"_endSlide",value:function(){this._setActiveSlide(),this.setProp("isAnimating",!1),this.elementList.containerEl.removeChild(this.elementList.cloneEl),this.elementList.cloneEl=null,this._endAnimationUserCallback(),this._startAnimationUserCallback=function(){},this._endAnimationUserCallback=function(){}}},{key:"_setActiveSlide",value:function(){for(var t=arguments.length<=0||void 0===arguments[0]?this.getProp("nextActiveSlideIndex"):arguments[0],e=0;e<this.elementList.slideArr.length;e++){var i=this.elementList.slideArr[e];i.classList.remove(this.CLASS_NAME_LIST.itemActive)}this.elementList.slideActiveEl=this.elementList.slideArr[t],this.elementList.slideActiveEl.classList.add(this.CLASS_NAME_LIST.itemActive),this.setProp("activeSlideIndex",t),this.setProp("nextActiveSlideIndex",null)}},{key:"_createTransitionEl",value:function(t){this.elementList.cloneEl&&this.elementList.containerEl.removeChild(this.elementList.cloneEl),this.elementList.cloneEl=this.elementList.slideArr[t].cloneNode(!0),this.elementList.cloneEl.classList.add(this.CLASS_NAME_LIST.itemClone),this.elementList.containerEl.appendChild(this.elementList.cloneEl)}},{key:"_createAnimationFunctions",value:function(){var t=this;this.addAnimationFunction("fade",function(){t.animationInit(function(){t.elementList.cloneEl.classList.add(t.NAMESPACE+"-item--animateFadeInit")}),t.animationStart(function(){t.elementList.cloneEl.classList.add(t.NAMESPACE+"-item--animateFadeStart")}),t.animationEnd(600)}),this.addAnimationFunction("slide",function(){var e=null,i=t.getProp("animationDirection"),n=t.getProp("nextActiveSlideIndex"),s=t.getProp("activeSlideIndex");e=i?i:n>s?"Next":"Prev",t.animationInit(function(){t.elementList.cloneEl.classList.add(t.NAMESPACE+"-item--animate"+e+"SlideInit"),t.elementList.slideActiveEl.classList.add(t.NAMESPACE+"-item--animateActive"+e+"SlideInit")}),t.animationStart(function(){t.elementList.cloneEl.classList.add(t.NAMESPACE+"-item--animate"+e+"SlideStart"),t.elementList.slideActiveEl.classList.add(t.NAMESPACE+"-item--animateActive"+e+"SlideStart")}),t.animationEnd(1e3,function(){t.elementList.slideActiveEl.classList.remove(t.NAMESPACE+"-item--animateActive"+e+"SlideInit"),t.elementList.slideActiveEl.classList.remove(t.NAMESPACE+"-item--animateActive"+e+"SlideStart"),t.removeProp("animationDirection")})})}},{key:"_addCustomAnimationFunctions",value:function(){var t=window.elasticSliderAnimationMap;if(this._typeTest("object",t))for(var e in t)this.addAnimationFunction(e,t[e])}},{key:"_typeTest",value:function(t,e){var i=!1;switch(t){case"object":"object"==typeof e&&null!==e&&"undefined"==typeof e.length&&(i=!0);break;case"array":"object"==typeof e&&null!==e&&"number"==typeof e.length&&(i=!0);break;case"function":"function"==typeof e&&(i=!0);case"string":"string"==typeof e&&(i=!0);break;case"boolean":"boolean"==typeof e&&(i=!0);break;case"number":"number"!=typeof e||isNaN(e)||(i=!0)}return i}}]),t}();