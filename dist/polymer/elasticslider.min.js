/**
 * ElasticSlider - An agnostic and responsive slider.
 * @version v0.3.0
 * @link 
 * @license MIT
 */
"use strict";function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}(),ElasticSlider=function(){function t(i,e){_classCallCheck(this,t),this.NAMESPACE="ElasticSlider",this.CLASS_NAME_LIST={container:this.NAMESPACE+"-container",item:this.NAMESPACE+"-item",itemActive:this.NAMESPACE+"-item--isActive",itemClone:this.NAMESPACE+"-item--clone"},this.options=this._filterOptions(e),this.properties={},this.setProp("activeSlideIndex",this.options.activeSlide-1),this.setProp("nextActiveSlideIndex",this.options.activeSlide),this.setProp("isAnimating",!1),this._animationFunctionHash={},this._slideCount=null,this._initialAnimationDelay=50,this._startAnimationUserCallback=function(){},this._endAnimationUserCallback=function(){},this._createAnimationFunctions(),this.elementList={},this.elementList.slider=i,this.elementList.containerEl=this.elementList.slider.querySelector("."+this.CLASS_NAME_LIST.container),this.elementList.slideArr=this.elementList.containerEl.children,this.elementList.slideActiveEl=this.elementList.slideArr[e.activeSlide-1],this.elementList.cloneEl=null,this._slideCount=this.elementList.slideArr.length,this.elementList.slider.classList.add(this.NAMESPACE);for(var n=0;n<this.elementList.slideArr.length;n++){var s=this.elementList.slideArr[n];s.classList.add(this.CLASS_NAME_LIST.item)}this._setActiveSlide(this.getProp("activeSlideIndex")),this._addCustomAnimationFunctions()}return _createClass(t,[{key:"destroy",value:function(){this.elementList.containerEl.removeChild(this.elementList.cloneEl)}},{key:"toSlide",value:function(t){t=t||{};var i=t.index,e=t.animate||this.options.animation,n=t.startAnimationCallback,s=t.endAnimationCallback;i!==this.getProp("activeSlideIndex")&&this.getProp("isAnimating")!==!0&&("number"!=typeof i||i>this._slideCount-1?i=0:0>i&&(i=this._slideCount-1),this._createTransitionEl(i),this.setProp("nextActiveSlideIndex",i),this.setProp("isAnimating",!0),"function"==typeof n&&(this._startAnimationUserCallback=n),"function"==typeof s&&(this._endAnimationUserCallback=s),e?(this._startAnimationUserCallback(),this._animationFunctionHash[e](this,i+1)):this._endSlide(i))}},{key:"animationInit",value:function(t){"function"==typeof t&&(t=t.bind(this))()}},{key:"animationStart",value:function(t){var i=this;window.setTimeout(function(){"function"==typeof t&&(t=t.bind(i))()},this._initialAnimationDelay)}},{key:"animationEnd",value:function(t,i){var e=this,n=(t||100)+this._initialAnimationDelay;window.setTimeout(function(){"function"==typeof i&&(i=i.bind(e))(),e._endSlide()},n)}},{key:"addAnimationFunction",value:function(t,i){this._animationFunctionHash[t]=i.bind(this)}},{key:"getElement",value:function(t){return this.elementList[t]}},{key:"getProp",value:function(t){return this.properties[t]}},{key:"setProp",value:function(t,i){this.properties[t]=i}},{key:"removeProp",value:function(t,i){delete this.properties[t]}},{key:"_filterOptions",value:function(t){return t.activeSlide||(t.activeSlide=0),t.animation||(t.animation="slide"),t}},{key:"_endSlide",value:function(){this._setActiveSlide(),this.setProp("isAnimating",!1),this.elementList.containerEl.removeChild(this.elementList.cloneEl),this.elementList.cloneEl=null,this._endAnimationUserCallback(),this._startAnimationUserCallback=function(){},this._endAnimationUserCallback=function(){}}},{key:"_setActiveSlide",value:function(t){t||(t=this.getProp("nextActiveSlideIndex"));for(var i=0;i<this.elementList.slideArr.length;i++){var e=this.elementList.slideArr[i];e.classList.remove(this.CLASS_NAME_LIST.itemActive)}this.elementList.slideActiveEl=this.elementList.slideArr[t],this.elementList.slideActiveEl.classList.add(this.CLASS_NAME_LIST.itemActive),this.setProp("activeSlideIndex",t),this.setProp("nextActiveSlideIndex",null)}},{key:"_createTransitionEl",value:function(t){this.elementList.cloneEl&&this.elementList.containerEl.removeChild(this.elementList.cloneEl),this.elementList.cloneEl=this.elementList.slideArr[t].cloneNode(!0),this.elementList.cloneEl.classList.add(this.CLASS_NAME_LIST.itemClone),this.elementList.containerEl.appendChild(this.elementList.cloneEl)}},{key:"_createAnimationFunctions",value:function(){this.addAnimationFunction("fade",function(){this.animationInit(function(){this.elementList.cloneEl.classList.add(this.NAMESPACE+"-item--animateFadeInit")}),this.animationStart(function(){this.elementList.cloneEl.classList.add(this.NAMESPACE+"-item--animateFadeStart")}),this.animationEnd(600)}),this.addAnimationFunction("slide",function(){var t=null,i=this.getProp("animationDirection");t=i?i:this.getProp("nextActiveSlideIndex")>this.getProp("activeSlideIndex")?"Next":"Prev",this.animationInit(function(){this.elementList.cloneEl.classList.add(this.NAMESPACE+"-item--animate"+t+"SlideInit"),this.elementList.slideActiveEl.classList.add(this.NAMESPACE+"-item--animateActive"+t+"SlideInit")}),this.animationStart(function(){this.elementList.cloneEl.classList.add(this.NAMESPACE+"-item--animate"+t+"SlideStart"),this.elementList.slideActiveEl.classList.add(this.NAMESPACE+"-item--animateActive"+t+"SlideStart")}),this.animationEnd(1e3,function(){this.elementList.slideActiveEl.classList.remove(this.NAMESPACE+"-item--animateActive"+t+"SlideInit"),this.elementList.slideActiveEl.classList.remove(this.NAMESPACE+"-item--animateActive"+t+"SlideStart"),this.removeProp("animationDirection")})})}},{key:"_addCustomAnimationFunctions",value:function(){var t=window.elasticSliderAnimationMap;if("object"==typeof t)for(var i in t)this.addAnimationFunction(i,t[i])}}]),t}();